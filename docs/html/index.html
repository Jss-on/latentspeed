<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Latentspeed Trading Engine: Latentspeed Trading Engine</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Latentspeed Trading Engine
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">High-performance multi-venue trading engine for algorithmic trading</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Latentspeed Trading Engine </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> A high-performance cryptocurrency trading engine that provides real-time market data streaming and order execution capabilities. The engine uses ZeroMQ for communication and integrates with multiple cryptocurrency exchanges via the ccapi library.</p>
<p><img src="https://img.shields.io/badge/C%2B%2B-17-blue.svg" alt="C++" style="pointer-events: none;" class="inline"/> <img src="https://img.shields.io/badge/CMake-3.20%2B-green.svg" alt="CMake" style="pointer-events: none;" class="inline"/> <img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License" style="pointer-events: none;" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md1"></a>
🚀 Features</h1>
<h2><a class="anchor" id="autotoc_md2"></a>
Core Functionality</h2>
<ul>
<li><b>Real-time Market Data</b>: Subscribe to live market data from supported exchanges</li>
<li><b>Order Execution</b>: Execute buy/sell orders with various order types (LIMIT, MARKET)</li>
<li><b>Multi-Exchange Support</b>: Currently configured for OKX, easily extensible to other exchanges</li>
<li><b>Strategy Decoupling</b>: Strategy logic runs separately and communicates via ZeroMQ</li>
<li><b>High Performance</b>: Low-latency communication using ZeroMQ and direct exchange APIs</li>
</ul>
<h2><a class="anchor" id="autotoc_md3"></a>
Communication Architecture</h2>
<ul>
<li><b>ZeroMQ REP Socket</b> (<code>tcp://*:5555</code>): Receives strategy commands</li>
<li><b>ZeroMQ PUB Socket</b> (<code>tcp://*:5556</code>): Broadcasts market data updates</li>
<li><b>JSON Protocol</b>: Simple, structured command/response format</li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
Supported Commands</h2>
<h3><a class="anchor" id="autotoc_md5"></a>
Place Order</h3>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;type&quot;: &quot;PLACE_ORDER&quot;,</div>
<div class="line">  &quot;exchange&quot;: &quot;okx&quot;,</div>
<div class="line">  &quot;instrument&quot;: &quot;BTC-USDT&quot;,</div>
<div class="line">  &quot;side&quot;: &quot;BUY&quot;,</div>
<div class="line">  &quot;quantity&quot;: 0.001,</div>
<div class="line">  &quot;price&quot;: 50000.0,</div>
<div class="line">  &quot;order_type&quot;: &quot;LIMIT&quot;,</div>
<div class="line">  &quot;correlation_id&quot;: &quot;optional_id&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md6"></a>
Subscribe to Market Data</h3>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;type&quot;: &quot;SUBSCRIBE_MARKET_DATA&quot;,</div>
<div class="line">  &quot;exchange&quot;: &quot;okx&quot;,</div>
<div class="line">  &quot;instrument&quot;: &quot;BTC-USDT&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md7"></a>
🏗️ Architecture</h1>
<div class="fragment"><div class="line">┌─────────────────┐    ZeroMQ REQ     ┌──────────────────────┐    ccapi    ┌─────────────┐</div>
<div class="line">│   Strategy      │◄─────────────────►│  Trading Engine      │◄───────────►│  Exchanges  │</div>
<div class="line">│   Components    │    tcp://5555     │  Service             │             │  (OKX, etc) │</div>
<div class="line">└─────────────────┘                   └──────────────────────┘             └─────────────┘</div>
<div class="line">                                               │</div>
<div class="line">                                               │ ZeroMQ PUB</div>
<div class="line">                                               │ tcp://5556</div>
<div class="line">                                               ▼</div>
<div class="line">                                      ┌─────────────────┐</div>
<div class="line">                                      │  Market Data    │</div>
<div class="line">                                      │  Subscribers    │</div>
<div class="line">                                      └─────────────────┘</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md8"></a>
🛠️ Build Instructions</h1>
<h2><a class="anchor" id="autotoc_md9"></a>
Prerequisites</h2>
<h3><a class="anchor" id="autotoc_md10"></a>
System Dependencies (Ubuntu/WSL)</h3>
<div class="fragment"><div class="line">sudo apt-get update</div>
<div class="line">sudo apt-get install -y cmake ninja-build build-essential pkg-config git</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md11"></a>
Clone Repository with Submodules</h3>
<div class="fragment"><div class="line">git clone &lt;your-repo-url&gt; latentspeed</div>
<div class="line">cd latentspeed</div>
<div class="line">git submodule update --init --recursive</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md12"></a>
Add vcpkg Submodule</h3>
<div class="fragment"><div class="line">git submodule add https://github.com/microsoft/vcpkg.git external/vcpkg</div>
<div class="line">cd external/vcpkg</div>
<div class="line">./bootstrap-vcpkg.sh</div>
<div class="line">cd ../..</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md13"></a>
Build Process</h2>
<h3><a class="anchor" id="autotoc_md14"></a>
Configure with CMake Presets</h3>
<div class="fragment"><div class="line"># Debug build</div>
<div class="line">cmake --preset wsl-debug</div>
<div class="line"> </div>
<div class="line"># Release build  </div>
<div class="line">cmake --preset wsl-release</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md15"></a>
Build the Project</h3>
<div class="fragment"><div class="line"># Debug</div>
<div class="line">cmake --build --preset wsl-debug</div>
<div class="line"> </div>
<div class="line"># Release</div>
<div class="line">cmake --build --preset wsl-release</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md16"></a>
Alternative Manual Configuration</h3>
<p>If presets don't work, configure manually: </p><div class="fragment"><div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake -G Ninja \</div>
<div class="line">  -DCMAKE_BUILD_TYPE=Release \</div>
<div class="line">  -DCMAKE_TOOLCHAIN_FILE=../external/vcpkg/scripts/buildsystems/vcpkg.cmake \</div>
<div class="line">  -DVCPKG_TARGET_TRIPLET=x64-linux \</div>
<div class="line">  ..</div>
<div class="line">cmake --build .</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md17"></a>
🚀 Running the Trading Engine</h1>
<h2><a class="anchor" id="autotoc_md18"></a>
Start the Service</h2>
<div class="fragment"><div class="line"># From build directory</div>
<div class="line">./trading_engine_service</div>
<div class="line"> </div>
<div class="line"># Or with full path</div>
<div class="line">./build/wsl-release/trading_engine_service</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md19"></a>
Expected Output</h2>
<div class="fragment"><div class="line">=== Latentspeed Trading Engine Service ===</div>
<div class="line">Starting up...</div>
<div class="line">[TradingEngine] Initialized successfully</div>
<div class="line">[TradingEngine] Strategy endpoint: tcp://*:5555</div>
<div class="line">[TradingEngine] Market data endpoint: tcp://*:5556</div>
<div class="line">[TradingEngine] Service started</div>
<div class="line">[Main] Trading engine started successfully</div>
<div class="line">[Main] Listening for strategy commands on tcp://*:5555</div>
<div class="line">[Main] Broadcasting market data on tcp://*:5556</div>
<div class="line">[Main] Press Ctrl+C to stop</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md20"></a>
🧪 Testing the Service</h1>
<h2><a class="anchor" id="autotoc_md21"></a>
Using Python Client (Example)</h2>
<div class="fragment"><div class="line">import zmq</div>
<div class="line">import json</div>
<div class="line">import time</div>
<div class="line"> </div>
<div class="line"># Connect to trading engine</div>
<div class="line">context = zmq.Context()</div>
<div class="line">socket = context.socket(zmq.REQ)</div>
<div class="line">socket.connect(&quot;tcp://localhost:5555&quot;)</div>
<div class="line"> </div>
<div class="line"># Subscribe to market data</div>
<div class="line">subscribe_cmd = {</div>
<div class="line">    &quot;type&quot;: &quot;SUBSCRIBE_MARKET_DATA&quot;,</div>
<div class="line">    &quot;exchange&quot;: &quot;okx&quot;,</div>
<div class="line">    &quot;instrument&quot;: &quot;BTC-USDT&quot;</div>
<div class="line">}</div>
<div class="line">socket.send_string(json.dumps(subscribe_cmd))</div>
<div class="line">response = socket.recv_string()</div>
<div class="line">print(f&quot;Subscription response: {response}&quot;)</div>
<div class="line"> </div>
<div class="line"># Place a test order</div>
<div class="line">order_cmd = {</div>
<div class="line">    &quot;type&quot;: &quot;PLACE_ORDER&quot;,</div>
<div class="line">    &quot;exchange&quot;: &quot;okx&quot;,</div>
<div class="line">    &quot;instrument&quot;: &quot;BTC-USDT&quot;, </div>
<div class="line">    &quot;side&quot;: &quot;BUY&quot;,</div>
<div class="line">    &quot;quantity&quot;: 0.001,</div>
<div class="line">    &quot;price&quot;: 45000.0,</div>
<div class="line">    &quot;order_type&quot;: &quot;LIMIT&quot;</div>
<div class="line">}</div>
<div class="line">socket.send_string(json.dumps(order_cmd))</div>
<div class="line">response = socket.recv_string()</div>
<div class="line">print(f&quot;Order response: {response}&quot;)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md22"></a>
Market Data Subscriber (Example)</h2>
<div class="fragment"><div class="line">import zmq</div>
<div class="line"> </div>
<div class="line">context = zmq.Context()</div>
<div class="line">socket = context.socket(zmq.SUB)</div>
<div class="line">socket.connect(&quot;tcp://localhost:5556&quot;)</div>
<div class="line">socket.setsockopt(zmq.SUBSCRIBE, b&quot;&quot;)  # Subscribe to all messages</div>
<div class="line"> </div>
<div class="line">while True:</div>
<div class="line">    message = socket.recv_string()</div>
<div class="line">    print(f&quot;Market data: {message}&quot;)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md23"></a>
⚙️ Configuration</h1>
<h2><a class="anchor" id="autotoc_md24"></a>
Exchange Configuration</h2>
<p>Edit <code>CCAPI_COMPILE_DEFS</code> in <code>CMakePresets.json</code> to enable additional exchanges: </p><div class="fragment"><div class="line">&quot;CCAPI_COMPILE_DEFS&quot;: &quot;CCAPI_ENABLE_SERVICE_MARKET_DATA;CCAPI_ENABLE_SERVICE_EXECUTION_MANAGEMENT;CCAPI_ENABLE_EXCHANGE_OKX;CCAPI_ENABLE_EXCHANGE_BINANCE&quot;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md25"></a>
Available Exchanges</h2>
<ul>
<li>OKX (default)</li>
<li>Binance</li>
<li>Coinbase</li>
<li>Kraken</li>
<li>And many more (see ccapi documentation)</li>
</ul>
<h2><a class="anchor" id="autotoc_md26"></a>
Optional Features</h2>
<ul>
<li><b>ZLIB Support</b>: Set <code>LATENTSPEED_WITH_ZLIB=ON</code> for Huobi/Bitmart exchanges</li>
<li><b>FIX API</b>: Add <code>CCAPI_ENABLE_SERVICE_FIX</code> for FIX protocol support</li>
</ul>
<h1><a class="anchor" id="autotoc_md27"></a>
📦 Dependencies</h1>
<p>Managed via vcpkg (<code>vcpkg.json</code>):</p><ul>
<li><b>openssl</b>: Secure communications</li>
<li><b>boost-asio, boost-beast</b>: Networking and HTTP</li>
<li><b>rapidjson</b>: JSON parsing</li>
<li><b>zeromq</b>: Inter-process communication</li>
<li><b>zlib</b>: Compression (optional)</li>
<li><b>hffix</b>: FIX protocol support (optional)</li>
</ul>
<h1><a class="anchor" id="autotoc_md28"></a>
🔧 Development</h1>
<h2><a class="anchor" id="autotoc_md29"></a>
Project Structure</h2>
<div class="fragment"><div class="line">latentspeed/</div>
<div class="line">├── include/</div>
<div class="line">│   └── trading_engine_service.h    # Service interface</div>
<div class="line">├── src/</div>
<div class="line">│   ├── trading_engine_service.cpp  # Service implementation  </div>
<div class="line">│   └── main.cpp                    # Entry point</div>
<div class="line">├── ccapi/                          # Crypto exchange API (submodule)</div>
<div class="line">├── external/vcpkg/                 # Package manager (submodule)</div>
<div class="line">├── CMakeLists.txt                  # Build configuration</div>
<div class="line">├── CMakePresets.json               # Build presets</div>
<div class="line">└── vcpkg.json                      # Dependencies manifest</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md30"></a>
Adding New Exchanges</h2>
<ol type="1">
<li>Add exchange macro to <code>CCAPI_COMPILE_DEFS</code> in <code>CMakePresets.json</code></li>
<li>Rebuild the project</li>
<li>Use the exchange name in strategy commands</li>
</ol>
<h2><a class="anchor" id="autotoc_md31"></a>
Extending Functionality</h2>
<ul>
<li>Implement additional command types in <code>handle_strategy_message()</code></li>
<li>Add new market data processing in <code>processEvent()</code></li>
<li>Extend the JSON protocol as needed</li>
</ul>
<h1><a class="anchor" id="autotoc_md32"></a>
📝 License</h1>
<p>[Add your license information here]</p>
<h1><a class="anchor" id="autotoc_md33"></a>
🤝 Contributing</h1>
<p>[Add contribution guidelines here] </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
